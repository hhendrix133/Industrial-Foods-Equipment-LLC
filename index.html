<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Industrial Equipment & Foods</title>

<!-- Enhanced viewport settings for better Safari mobile control -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<meta name="description" content="Industrial Equipment & Foods — innovating industrial consumables since 1897.">

<!-- FAVICON - Multiple formats for better browser compatibility -->
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon.png">
<link rel="shortcut icon" type="image/png" href="images/favicon.png">
<link rel="apple-touch-icon" sizes="180x180" href="images/favicon.png">

<!-- Safari-specific meta tags -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<link href="https://fonts.googleapis.com/css2?family=Lobster&family=Playfair+Display:ital,wght@1,600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J6DLYEMS15"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-J6DLYEMS15');
</script>
<style>
  html { 
    scroll-behavior: smooth;
  }

  body {
    margin: 0;
    background: #000;
    font-family: Arial, Helvetica, sans-serif;
    color: #e6e6e6;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
    /* Safari-specific font smoothing */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  body::-webkit-scrollbar { 
    display: none; /* Chrome, Safari, Opera */
  }

  /* Also hide scrollbar on all elements */
  * {
    scrollbar-width: none;
    -ms-overflow-style: none;
    /* Prevent all elements from causing horizontal overflow */
    box-sizing: border-box;
  }
  *::-webkit-scrollbar {
    display: none;
  }

  .site-frame {
    max-width: 1400px;
    margin: 20px auto;
    border: 4px solid #d4af37;
    background: #0b0b0b;
    padding: 26px 36px 36px;
    box-sizing: border-box;
    position: relative;
  }

  /* ===== NAV ===== */
  .top-nav {
    position: sticky;
    top: 0;
    z-index: 1000;
    display: flex;
    justify-content: center;
    gap: 32px;
    margin-bottom: 18px;
    background: #0b0b0b;
    padding: 16px 0;
    border-bottom: 2px solid #d4af37;
  }

  .top-nav a {
    color: #d4af37;
    text-decoration: none;
    letter-spacing: 1px;
    font-size: 0.95em;
    transition: text-shadow 0.3s ease, color 0.3s ease;
    cursor: pointer;
  }

  .top-nav a:hover,
  .top-nav a:focus-visible {
    text-decoration: underline;
    outline: none;
    color: #fff;
    text-shadow: 0 0 12px #d4af37, 0 0 18px #d4af37, 0 0 24px #d4af37;
  }

  /* ===== HEADER ===== */
  .header {
    display: flex;
    align-items: center;
    gap: 28px;
  }

  .logo {
    max-width: 180px;
    border: 3px solid #d4af37;
    padding: 8px;
    background: #000;
  }

  .logo img {
    width: 100%;
    display: block;
    cursor: pointer;
  }

  .header-text h1 {
    color: #d4af37;
    letter-spacing: 2px;
    margin: 0 0 6px;
    font-size: 1.7em;
    font-style: italic;
    font-family: 'Playfair Display', serif;
    font-weight: 600;
  }

  .header-text p {
    margin: 0;
    font-size: 0.95em;
    color: #bbb;
    line-height: 1.45;
    text-indent: 2em;
  }

  .gold-divider {
    height: 4px;
    background: #d4af37;
    margin: 22px 0 34px;
  }

  /* ===== NEWS SECTION ===== */
  #news {
    scroll-margin-top: 80px;
    margin-bottom: 40px;
  }

  .news-item {
    display: flex;
    gap: 40px;
    align-items: flex-start;
  }

  .news-image-box {
    border: 3px solid #d4af37;
    padding: 12px;
    background: #000;
    max-width: 320px;
    flex: 1;
    transition: box-shadow 0.4s ease;
  }

  .news-image-box:hover {
    box-shadow: 0 0 18px rgba(212, 175, 55, 0.35);
  }

  .news-image-box img {
    width: 100%;
    display: block;
    cursor: pointer;
    opacity: 0;
    transform: translateY(28px);
    transition:
      opacity 0.8s ease,
      transform 0.8s ease,
      box-shadow 0.4s ease,
      filter 0.4s ease;
  }

  .news-image-box img.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .news-image-box img.visible:hover {
    box-shadow:
      0 0 12px #d4af37,
      0 0 20px #d4af37,
      0 0 27px #d4af37;
    filter: brightness(1.2);
  }

  .news-text-box {
    flex: 1;
    border: 1px solid #d4af37;
    padding: 26px;
    color: #aaa;
  }

  .news-text-box h2 {
    color: #d4af37;
    margin-top: 0;
    font-family: 'Lobster', cursive;
    font-style: italic;
    font-size: 1.8em;
    letter-spacing: 1px;
  }

  /* ===== PRODUCTS ===== */
  #products {
    scroll-margin-top: 80px;
  }

  #products > h2 {
    color: #d4af37;
    text-align: center;
    font-size: 2.2em;
    letter-spacing: 2px;
    margin-bottom: 20px;
    margin-top: 0;
    font-family: 'Lobster', cursive;
    font-style: italic;
  }

  .product {
    display: flex;
    gap: 30px;
    margin-bottom: 30px;
    align-items: flex-start;
  }

  .product.reverse { flex-direction: row-reverse; }

  .image-box {
    border: 3px solid #d4af37;
    padding: 12px;
    background: #000;
    max-width: 460px;
    transition: box-shadow 0.4s ease;
    flex-shrink: 0;
  }

  .image-box:hover {
    box-shadow: 0 0 18px rgba(212, 175, 55, 0.35);
  }

  .image-box img {
    width: 100%;
    max-height: 500px;
    object-fit: contain;
    display: block;
    cursor: pointer;
    opacity: 0;
    transform: translateY(28px);
    transition:
      opacity 0.8s ease,
      transform 0.8s ease,
      box-shadow 0.4s ease,
      filter 0.4s ease;
  }

  .image-box img.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .image-box img.visible:hover {
    box-shadow:
      0 0 12px #d4af37,
      0 0 20px #d4af37,
      0 0 27px #d4af37;
    filter: brightness(1.2);
  }

  .text-box {
    flex: 1;
    border: 1px solid #d4af37;
    padding: 20px;
    color: #aaa;
    align-self: stretch;
  }

  .text-box h2 {
    color: #d4af37;
    margin-top: 0;
    margin-bottom: 12px;
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-weight: 600;
  }

  .text-box p {
    margin: 0;
    line-height: 1.5;
  }

  /* ===== HISTORY SECTION ===== */
  .history-section {
    margin-top: 60px;
    scroll-margin-top: 80px;
  }

  .history-section h2 {
    color: #d4af37;
    text-align: center;
    font-size: 2.2em;
    letter-spacing: 2px;
    margin-bottom: 30px;
    font-family: 'Lobster', cursive;
    font-style: italic;
  }

  .history-text-box {
    border: 1px solid #d4af37;
    padding: 26px;
    color: #aaa;
    margin-bottom: 40px;
  }

  .history-images {
    display: flex;
    gap: 20px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 40px;
  }

  .history-image-box {
    border: 3px solid #d4af37;
    padding: 12px;
    background: #000;
    transition: box-shadow 0.4s ease;
  }

  .history-image-box.large {
    max-width: 350px;
    flex: 1 1 auto;
  }

  .history-image-box.large img {
    cursor: pointer;
  }

  .history-image-box.small {
    max-width: 175px;
  }

  .history-image-box.small img {
    cursor: pointer;
  }

  .history-image-box:hover {
    box-shadow: 0 0 18px rgba(212, 175, 55, 0.35);
  }

  .history-image-box img {
    width: 100%;
    max-height: 500px;
    object-fit: contain;
    display: block;
    opacity: 1; /* Always visible - no fade */
    transform: translateY(0); /* No slide animation */
    transition:
      box-shadow 0.4s ease,
      filter 0.4s ease;
  }

  .history-image-box img.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .history-image-box img.visible:hover {
    box-shadow:
      0 0 12px #d4af37,
      0 0 20px #d4af37,
      0 0 27px #d4af37;
    filter: brightness(1.2);
  }

  /* ===== STEALTH PUZZLE UI (Below Footer Quote) ===== */
  #digit-pass-area {
    display: none;
    margin-top: 20px;
    width: 150px;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }

  #digit-pass-area.show {
    opacity: 1;
    transform: translateY(0);
  }

  #digit-pass-area.hide-away {
    opacity: 0;
    transform: translateY(30px) scale(0.9);
    pointer-events: none;
  }

  .stealth-header {
    font-size: 11px;
    color: #d4af37;
    font-family: monospace;
    letter-spacing: 1px;
    margin-bottom: 6px;
    font-weight: bold;
  }

  .digit-input-wrapper {
    display: flex;
    gap: 6px;
  }

  .pass-digit {
    width: 22px;
    height: 28px;
    background: #000;
    border: 1px solid #222;
    color: #d4af37;
    text-align: center;
    font-family: monospace;
    font-size: 14px;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
  }

  .pass-digit:focus {
    outline: none;
    border-color: #d4af37;
    box-shadow: 0 0 8px rgba(212, 175, 55, 0.5);
  }

  .pass-digit.error {
    border-color: #ff0000;
    animation: shake 0.4s ease;
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }

  #lock-msg {
    color: #ff0000;
    font-weight: bold;
    font-size: 11px;
    margin-top: 4px;
    display: none;
    text-transform: uppercase;
    animation: pulse 1s ease infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  /* ===== SECRET VAULT ===== */
  #secret-vault-section {
    display: none;
    margin-top: 40px;
    padding: 30px;
    border: 2px solid #d4af37;
    background: #050505;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  #secret-vault-section.show {
    opacity: 1;
    transform: translateY(0);
  }

  .vault-display {
    color: #00ff41;
    font-family: 'Courier New', monospace;
    font-size: 0.95em;
    line-height: 1.6;
    white-space: pre-wrap;
  }

  /* ===== FOOTER ===== */
  footer {
    border-top: 2px solid #d4af37;
    padding-top: 18px;
    margin-top: 30px;
    color: #bfae6a;
    font-size: 0.9em;
  }

  .footer-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 15px;
    flex-wrap: wrap;
  }

  .footer-quote {
    max-width: 70%;
  }

  .footer-meta {
    text-align: right;
    white-space: nowrap;
    font-size: 0.85em;
    color: #9f8f4f;
  }

  /* ===== MOBILE & SAFARI SPECIFIC FIXES ===== */
  @media (max-width: 900px) {
    .site-frame {
      margin: 10px;
      padding: 20px 16px 20px;
      border-width: 3px;
    }

    .header { 
      flex-direction: column; 
      text-align: center; 
    }
    
    .header-text p { 
      text-indent: 0; 
    }
    
    .header-text h1 {
      font-size: 1.4em;
      letter-spacing: 1px;
    }

    .header-text p {
      font-size: 0.9em;
    }
    
    .news-item { 
      flex-direction: column; 
    }
    
    .news-image-box { 
      max-width: 100%; 
    }
    
    .product, .product.reverse { 
      flex-direction: column; 
    }
    
    .image-box { 
      max-width: 100%; 
    }
    
    .history-images { 
      flex-direction: column; 
      align-items: center; 
    }
    
    .history-image-box.large, .history-image-box.small { 
      max-width: 100%; 
    }
    
    .footer-row { 
      flex-direction: column; 
      text-align: center; 
    }
    
    .footer-quote {
      max-width: 100%;
    }
    
    .footer-meta { 
      text-align: center;
      white-space: normal;
    }
    
    .top-nav { 
      gap: 20px; 
      font-size: 0.9em; 
    }
    
    #digit-pass-area { 
      left: 20px; 
      bottom: 80px; 
    }

    #products > h2,
    .history-section h2 {
      font-size: 1.8em;
    }

    /* Force proper text wrapping on Safari iOS */
    * {
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }
  }

  /* Extra small mobile devices (Safari iPhone) */
  @media (max-width: 480px) {
    .site-frame {
      margin: 5px;
      padding: 15px 12px 15px;
      border-width: 2px;
    }

    .top-nav {
      gap: 15px;
      font-size: 0.85em;
      padding: 12px 0;
    }

    .footer-meta {
      font-size: 0.75em;
    }

    .footer-meta div {
      margin-bottom: 8px;
    }

    /* Ensure copyright text wraps properly on iPhone Safari */
    .footer-meta div:nth-child(3) {
      word-break: break-word;
      hyphens: auto;
      -webkit-hyphens: auto;
    }
  }
</style>
</head>

<body>

<div class="site-frame">

  <nav class="top-nav">
    <a href="index.html">Home</a>
    <a href="#news" class="combo-trigger" data-section="news">News</a>
    <a href="#products" class="combo-trigger" data-section="products">Products</a>
    <a href="#history" class="combo-trigger" data-section="history">History</a>
  </nav>

  <div class="header">
    <div class="logo">
      <img src="images/industrial-equipment-foods-logo.png" alt="Industrial Equipment & Foods Logo" class="secret-link" data-url="https://www.youtube.com/@ModMaster_cat">
    </div>
    <div class="header-text">
      <h1>Our Initiative At Industrial Foods & Equipment LLC</h1>
      <p>
        At Industrial Foods & Equipment LLC, we transform lives through innovation.
        We provide groundbreaking industrial and household products while committing
        35% of our profits to global infrastructure and housing for those in need.
        By partnering with government initiatives, we have already funded over 1,300
        tiny homes. Our operations also support long-term workforce development through 
        skilled manufacturing, logistics, and research roles tied directly to regional 
        infrastructure growth. Our resource systems lead the industry with 85.52% efficiency,
        ensuring a better world with minimal waste.
      </p>
    </div>
  </div>

  <div class="gold-divider"></div>

  <div id="news">
    <div class="news-item">
      <div class="news-text-box">
        <h2>Current Corporate Headlines</h2>
        <p><strong>January 24, 2026</strong></p>
        <p><strong>BREAKING: I.H.A. Plant Explodes in Texas</strong></p>
        <p>TEXAS (ABC News) — A chemical plant producing Industrial Human Adhesive (I.H.A.) exploded today after an activist breached security and ignited a fire during a restock. The blaze emitted a "bright red glow" and pungent odors, forcing a 5-hour local shelter-in-place order. Officials are investigating the environmental impact of the I.H.A. runoff.</p>
      </div>
      <div class="news-image-box">
        <img class="ad-image" id="news-img" src="images/NewsTexasExplosion.jpg" alt="News Update">
      </div>
    </div>
  </div>

  <div class="gold-divider"></div>

  <div id="products">
    <h2>Our Products</h2>

    <div class="product">
      <div class="image-box">
        <img class="ad-image secret-link" src="images/ihg-original.png" alt="IHG Advertisement" data-url="https://forms.gle/hM5YHyV8oRqAueGi9">
      </div>
      <div class="text-box">
        <h2>Industrial Humanized Grease (I.H.G.)</h2>
        <p>First released in 1975, this <strong>Q</strong>uintessential lubricant has achieved legendary status over five decades. While its versatile chemical properties allow for applications ranging from industrial shaving cream to artificial butter, its impact on the market remains unforgettable. Some clients claim it rivals a five-course meal; others simply cannot operate without it.</p>
      </div>
    </div>

    <div class="product reverse">
      <div class="image-box">
        <img class="ad-image secret-link" src="images/ivf.png" alt="IVF Advertisement" data-url="https://music.youtube.com/watch?v=A1jdPMTPaEg&list=PLAoN-wsK7mvPUS6n5WlMkbJoSnVC3-Pe1">
      </div>
      <div class="text-box">
        <h2>Industrial Versatile Flavoring (I.V.F.)</h2>
        <p>Our <strong>9</strong>th generation flavoring system, launched in 2020, is a cornerstone of modern food engineering. Retailing <strong>@</strong> $32 per quarter gallon, I.V.F. possesses the unique ability to transform basic gruel into a gourmet dessert experience. It is <strong>@</strong>bsolutely essential for those seeking maximum flavor potential—just mix, shock, and serve. To date, this remains a top performer with 3.4 billion units sold.</p>
      </div>
    </div>

    <div class="product">
      <div class="image-box">
        <img class="ad-image secret-link" src="images/iha.png" alt="IHA Advertisement" data-url="https://music.youtube.com/watch?v=XVxO6fKtrw4&list=PLAoN-wsK7mvPUS6n5WlMkbJoSnVC3-Pe1">
      </div>
      <div class="text-box">
        <h2>Industrial Human Adhesive (I.H.A.)</h2>
        <p>The result of a <strong>p</strong>rolonged 125-year development cycle, I.H.A. is officially recognized as the world's strongest industrial-grade spray. Engineered specifically to avoid bonding with human skin, it offers unparalleled safety and efficiency in the workspace. Despite recent facility disruptions, our commitment to this non-reactive adhesive technology remains the gold standard of the industry.</p>
      </div>
    </div>

  </div>

  <div class="gold-divider"></div>

  <div id="history" class="history-section">
    <h2>Our Story</h2>
    
    <div class="history-text-box">
      <p><strong>The Founding Era (1897–1930)</strong></p>
      <p>Established in 1897 in Bengal by J.P. Richardson Sr., the company pivoted from molasses to "absorbed and awful" industrial machinery following a global sugar crash. Though early appliances were discontinued, the factory remained an experimental powerhouse. <strong>P</strong>roper <strong>P</strong>roduction <strong>P</strong>rotocols were established here to ensure our machinery never failed under pressure.</p>
      
      <p><strong>The American Expansion (1975–2002)</strong></p>
      <p>Under Jonathan Richardson, we moved to the U.S., launching Industrial Humanized Grease (I.H.G.) in 1975 with 182,000 units sold in 90 days. <strong>N</strong>otable expansions funded a nationwide network of manufacturing plants and secret research laboratories.</p>
      
      <p><strong>The Albuquerque Tragedy & Modern Growth</strong></p>
      <p>In the late 1980s, Jonathan Richardson (age 62) suffered a fatal heart attack on a flight from New Mexico after being denied a merger by GE's Jack Welch. At the time of his passing, the firm was valued at $3.63 billion (on Wednesdays). <strong>H</strong>ighly <strong>H</strong>idden assets remain within the Richardson estate.</p>
      
      <p><strong>The Present Era</strong></p>
      <p>Today, we employ over 17,000 specialists. Following the 2020 success of Industrial Versatile Flavoring (I.V.F.), we released Industrial Human Adhesive (I.H.A.) in 2023—the first professional glue engineered to never stick to human skin.</p>
    </div>

    <div class="history-images">
      <div class="history-image-box large" id="large-image-box">
        <img class="ad-image" id="large-history-img" src="images/HistoryPageViewOut1890s.jpg" alt="Factory Exterior View from 1890s">
      </div>
      <div class="history-image-box small" id="small-image-box">
        <img class="ad-image" id="small-history-img" src="images/HistoryPageInView.jpg" alt="Factory Interior Tour Photo">
      </div>
    </div>
  </div>

  <!-- SECRET VAULT -->
  <div id="secret-vault-section">
    <h3 style="color:#d4af37; font-family:'Lobster', cursive; font-style:italic; margin-top:0; font-size:1.8em;">Vault</h3>
    <div class="vault-display" style="color:#aaa;">
<strong style="color:#d4af37;">INTERNAL ACCESS: CLASSIFIED LEVEL 4</strong>

<strong>TO:</strong> Authorized Personnel & Strategic Stakeholders
<strong>FROM:</strong> Executive Office of Industrial Foods & Equipment LLC
<strong>SUBJECT:</strong> Project Revelation: The Next Industrial Frontier

Congratulations on successfully bypassing our tiered access protocols. Whether through analytical prowess or careful observation, your presence here marks you as a true enthusiast of the Industrial legacy.

We are proud to announce the next phase of our corporate evolution: <strong>The I.F.E. Autonomous Systems Initiative.</strong>

Breaking away from our traditional chemical and flavoring roots, our upcoming <strong>Industrial Robotics Line</strong> will modernize operational efficiency across two critical sectors:

• <strong>Surveillance & Security:</strong> High-fidelity monitoring systems designed to protect I.F.E. interests globally.
• <strong>Maintenance & Housekeeping:</strong> Heavy-duty autonomous units engineered for the most demanding industrial environments.

<strong>Official Global Launch: June 19, 2027.</strong>

We thank you for your continued loyalty as we expand our "wild dreams" into the future of robotics. Our digital infrastructure contains further hidden secrets; we advise you to remain vigilant.

<strong style="color:#d4af37;">Stay Sharp.</strong>

Executive Management, Industrial Foods & Equipment LLC
<em>"The Gold Standard Since 1897"</em>
    </div>
  </div>

  <footer>
    <div class="footer-row">
      <div class="footer-quote">
        "Even over a century later, we never fail to innovate." — Industrial Equipment & Foods LLC
        
        <!-- STEALTH PUZZLE UI - Right below quote -->
        <div id="digit-pass-area">
          <div class="stealth-header">Enter Pin Here</div>
          <div class="digit-input-wrapper">
            <input type="text" maxlength="1" class="pass-digit" id="p1" autocomplete="off">
            <input type="text" maxlength="1" class="pass-digit" id="p2" autocomplete="off">
            <input type="text" maxlength="1" class="pass-digit" id="p3" autocomplete="off">
            <input type="text" maxlength="1" class="pass-digit" id="p4" autocomplete="off">
          </div>
          <div id="lock-msg">Locked Out</div>
        </div>
      </div>
      <div class="footer-meta">
        <div id="last-updated">Last Update: --</div>
        <div>Customer Delight Line : +1 (800) 444-1987</div>
        <div style="color: #d4af37;">© 1897 - 2026 Industrial Foods & Equipment LLC | All Rights Reserved |</div>
        <div style="font-size: 0.75em; margin-top: 4px;">Disclaimer: For informational purposes only. Industrial Foods & Equipment LLC assumes no liability for use of products or technical specifications.</div>
      </div>
    </div>
  </footer>

</div>

<script>
  // --- Background Music System ---
  let musicStarted = false;
  
  // Main theme playlist
  const mainThemes = [
    new Audio('sounds/C418 -Alpha.mp3'),
    new Audio('sounds/MainTheme3.mp3'),
    new Audio('sounds/MainTheme2.mp3')
  ];
  
  const specialTheme = new Audio('sounds/MainThemeSpecial.mp3');
  specialTheme.volume = 0.3;
  
  let currentThemeIndex = 0;
  let bgMusic = mainThemes[currentThemeIndex];
  bgMusic.volume = 0.3;
  
  // Set up all themes
  mainThemes.forEach(theme => {
    theme.volume = 0.3;
    theme.addEventListener('ended', () => {
      if (specialThemeUnlocked && theme === bgMusic) {
        // Play special theme
        bgMusic = specialTheme;
        specialTheme.play();
        specialThemeUnlocked = false; // Reset unlock
        
        specialTheme.addEventListener('ended', () => {
          // After special theme, continue with normal rotation
          currentThemeIndex = (currentThemeIndex + 1) % mainThemes.length;
          bgMusic = mainThemes[currentThemeIndex];
          if (!bgMusic.paused || musicStarted) {
            bgMusic.play();
          }
        }, { once: true });
      } else {
        // Normal theme rotation
        currentThemeIndex = (currentThemeIndex + 1) % mainThemes.length;
        bgMusic = mainThemes[currentThemeIndex];
        bgMusic.play();
      }
    });
  });

  const celebrationSound1 = new Audio('sounds/no-copyright2.mp3'); // For confetti (first puzzle)
  celebrationSound1.volume = 0.5;
  
  const celebrationSound2 = new Audio('sounds/No-Copyright.mp3'); // For vault unlock
  celebrationSound2.volume = 0.5;

  let bgMusicWasPlaying = false;
  let currentCelebration = null;

  function startMusic() {
    if (!musicStarted) {
      bgMusic.play().catch(err => {
        console.log('Audio playback prevented:', err);
      });
      musicStarted = true;
    }
  }

  // Start music on first click anywhere
  document.addEventListener('click', startMusic, { once: true });

  // Triple-click handler for pause/play and skip celebration
  let clickCount = 0;
  let clickTimer = null;

  document.addEventListener('click', () => {
    clickCount++;
    
    if (clickTimer) {
      clearTimeout(clickTimer);
    }
    
    clickTimer = setTimeout(() => {
      if (clickCount === 3) {
        // Triple click detected
        
        // Check if celebration is playing - skip it
        if (currentCelebration && !currentCelebration.paused) {
          currentCelebration.pause();
          currentCelebration.currentTime = 0;
          currentCelebration = null;
          
          // Resume bg music if it was playing
          if (bgMusicWasPlaying) {
            bgMusic.play();
          }
        } else if (musicStarted) {
          // Toggle main music
          if (bgMusic.paused) {
            bgMusic.play();
          } else {
            bgMusic.pause();
          }
        }
      }
      clickCount = 0;
    }, 400); // 400ms window for triple click
  });

  // Play celebration sound and pause bg music temporarily
  function playCelebrationSound(sound) {
    bgMusicWasPlaying = !bgMusic.paused;
    
    if (bgMusicWasPlaying) {
      bgMusic.pause();
    }
    
    currentCelebration = sound;
    sound.currentTime = 0; // Reset to start
    sound.play();
    
    sound.addEventListener('ended', () => {
      currentCelebration = null;
      if (bgMusicWasPlaying) {
        bgMusic.play();
      }
    }, { once: true });
  }

  // --- Special Theme Unlock (Scroll top/bottom 4 times in 10 seconds) ---
  let specialThemeUnlocked = false;
  let scrollPositions = [];
  const SCROLL_THRESHOLD = 100; // px from top/bottom
  const UNLOCK_TIME_WINDOW = 10000; // 10 seconds
  const REQUIRED_SCROLLS = 4;

  function isAtTop() {
    return window.scrollY < SCROLL_THRESHOLD;
  }

  function isAtBottom() {
    return (window.innerHeight + window.scrollY) >= (document.body.scrollHeight - SCROLL_THRESHOLD);
  }

  let lastScrollPosition = null;

  window.addEventListener('scroll', () => {
    const now = Date.now();
    const atTop = isAtTop();
    const atBottom = isAtBottom();
    
    if ((atTop || atBottom) && lastScrollPosition !== (atTop ? 'top' : 'bottom')) {
      lastScrollPosition = atTop ? 'top' : 'bottom';
      
      // Add scroll event
      scrollPositions.push(now);
      
      // Remove old events outside time window
      scrollPositions = scrollPositions.filter(time => (now - time) < UNLOCK_TIME_WINDOW);
      
      // Check if unlocked
      if (scrollPositions.length >= REQUIRED_SCROLLS && !specialThemeUnlocked) {
        specialThemeUnlocked = true;
        console.log('Special theme unlocked!');
        // Visual feedback (optional)
        document.body.style.borderColor = '#d4af37';
        setTimeout(() => {
          document.body.style.borderColor = '';
        }, 500);
      }
    } else if (!atTop && !atBottom) {
      lastScrollPosition = null;
    }
  });

  // --- Make all "industrial" words clickable GHOST links (invisible like photo links) ---
  function linkifyIndustrial() {
    const walker = document.createTreeWalker(
      document.body,
      NodeFilter.SHOW_TEXT,
      null,
      false
    );

    const nodesToReplace = [];
    let node;

    while (node = walker.nextNode()) {
      // Skip script tags and already linked content
      if (node.parentElement.tagName !== 'SCRIPT' && 
          node.parentElement.tagName !== 'STYLE' &&
          node.parentElement.tagName !== 'A') {
        const text = node.textContent;
        if (/industrial/i.test(text)) {
          nodesToReplace.push(node);
        }
      }
    }

    nodesToReplace.forEach(node => {
      const text = node.textContent;
      const regex = /(industrial)/gi;
      
      if (regex.test(text)) {
        const span = document.createElement('span');
        span.innerHTML = text.replace(regex, (match) => {
          const ghostLink = document.createElement('span');
          ghostLink.textContent = match;
          ghostLink.style.cursor = 'pointer';
          ghostLink.style.color = 'inherit';
          ghostLink.style.textDecoration = 'none';
          ghostLink.addEventListener('click', () => {
            window.open('https://www.google.com/search?q=Industrial&ie=UTF-8', '_blank', 'noopener');
          });
          return ghostLink.outerHTML;
        });
        node.parentNode.replaceChild(span, node);
      }
    });
  }

  // Run after page loads
  window.addEventListener('load', linkifyIndustrial);

  // --- Image Visibility Observer ---
  const images = document.querySelectorAll('.ad-image');
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      entry.target.classList.toggle('visible', entry.isIntersecting);
    });
  }, { threshold: 0.6 });

  images.forEach(img => observer.observe(img));

  // --- Date Logic ---
  const now = new Date();
  document.getElementById('last-updated').textContent =
    `Last Update: ${now.toLocaleDateString(undefined, { year:'numeric', month:'long', day:'numeric' })}`;

  // --- Secret link functionality ---
  document.querySelectorAll('.secret-link').forEach(element => {
    element.addEventListener('click', function(e) {
      const url = this.getAttribute('data-url');
      if (url) {
        window.open(url, '_blank', 'noopener');
      }
    });
  });

  // --- News image cycling logic ---
  const newsImg = document.getElementById('news-img');
  const newsImages = [
    'images/NewsTexasExplosion.jpg',
    'images/News2.jpg'
  ];
  let newsCurrentIndex = 0;
  let newsAutoSwapInterval;
  let newsHasManuallyClicked = false;

  function cycleNewsImage() {
    newsCurrentIndex = (newsCurrentIndex + 1) % newsImages.length;
    newsImg.src = newsImages[newsCurrentIndex];
  }

  newsAutoSwapInterval = setInterval(() => {
    if (!newsHasManuallyClicked) {
      cycleNewsImage();
    }
  }, 5000);

  newsImg.addEventListener('click', () => {
    newsHasManuallyClicked = true;
    clearInterval(newsAutoSwapInterval);
    cycleNewsImage();
  });

  // --- History image swapping logic ---
  const largeImg = document.getElementById('large-history-img');
  const smallImg = document.getElementById('small-history-img');
  let autoSwapInterval;
  let hasManuallyClicked = false;

  function swapImages() {
    const tempSrc = largeImg.src;
    const tempAlt = largeImg.alt;
    largeImg.src = smallImg.src;
    largeImg.alt = smallImg.alt;
    smallImg.src = tempSrc;
    smallImg.alt = tempAlt;
  }

  autoSwapInterval = setInterval(() => {
    if (!hasManuallyClicked) {
      swapImages();
    }
  }, 10000);

  smallImg.addEventListener('click', () => {
    hasManuallyClicked = true;
    clearInterval(autoSwapInterval);
    swapImages();
  });

  largeImg.addEventListener('click', () => {
    window.open('https://www.youtube.com/watch?v=RC3FupR9Bj8&list=RDbBz8prEcBUA&index=5', '_blank', 'noopener');
  });

  // --- SECRET SEQUENCE LOGIC ---
  // Sequence: Products, Products, Products, News, History, History
  const comboSecret = ['products', 'products', 'products', 'news', 'history', 'history'];
  let userCombo = [];
  let isAutoScrolling = false;

  document.querySelectorAll('.combo-trigger').forEach(link => {
    link.addEventListener('click', (e) => {
      const section = link.getAttribute('data-section');
      userCombo.push(section);

      // Check sequence
      const isCorrectSoFar = userCombo.every((val, i) => val === comboSecret[i]);
      if (!isCorrectSoFar) {
        userCombo = [section]; 
      } else if (userCombo.length === comboSecret.length) {
        e.preventDefault(); // Prevent navigation on final click
        triggerPuzzlePhase2();
        userCombo = []; // Reset for potential replay
      }
    });
  });

  function triggerPuzzlePhase2() {
    // Play celebration sound for first puzzle completion
    playCelebrationSound(celebrationSound1);
    
    // Full Screen Confetti - from far sides toward center + top dropdown
    const duration = 3 * 1000;
    const end = Date.now() + duration;

    (function frame() {
      // Far left side shooting toward center
      confetti({ 
        particleCount: 4, 
        angle: 75, 
        spread: 60, 
        origin: { x: 0, y: 0.6 }, 
        colors: ['#d4af37', '#ffffff'] 
      });
      // Far right side shooting toward center
      confetti({ 
        particleCount: 4, 
        angle: 105, 
        spread: 60, 
        origin: { x: 1, y: 0.6 }, 
        colors: ['#d4af37', '#ffffff'] 
      });
      // Top center dropdown confetti
      confetti({
        particleCount: 5,
        angle: 90,
        spread: 120,
        origin: { x: 0.5, y: 0 },
        colors: ['#d4af37', '#ffffff'],
        gravity: 1.2
      });
      if (Date.now() < end) requestAnimationFrame(frame);
    }());

    // Show stealth pad after confetti
    setTimeout(() => {
      const pad = document.getElementById('digit-pass-area');
      pad.style.display = 'block';
      setTimeout(() => {
        pad.classList.add('show');
        document.getElementById('p1').focus();
      }, 50);
      
      // Auto-hide pin pad after 3 minutes of inactivity, forcing re-entry of sequence
      setTimeout(() => {
        pad.classList.add('hide-away');
        setTimeout(() => {
          pad.style.display = 'none';
          // Reset for potential replay
          userCombo = [];
          pInputs.forEach(i => { 
            i.value = ''; 
            i.disabled = false;
            i.classList.remove('error');
          });
          document.getElementById('lock-msg').style.display = 'none';
        }, 600);
      }, 3 * 60 * 1000); // 3 minutes
    }, 2000);
  }

  // --- PIN PAD LOGIC ---
  const masterKey = ['Q', '9', '@', 'p'];
  const pInputs = [
    document.getElementById('p1'), 
    document.getElementById('p2'), 
    document.getElementById('p3'), 
    document.getElementById('p4')
  ];

  pInputs.forEach((input, index) => {
    input.addEventListener('input', () => {
      if (input.value.length === 1 && index < 3) {
        pInputs[index + 1].focus();
      }
      
      const currentEntry = pInputs.map(i => i.value);
      if (currentEntry.filter(x => x !== "").length === 4) {
        // Check password
        if (currentEntry.join('') === masterKey.join('')) {
          unlockVault();
        } else {
          // ONE TRY LOCKOUT with animation
          pInputs.forEach(i => { 
            i.classList.add('error');
            i.disabled = true; 
          });
          document.getElementById('lock-msg').style.display = 'block';
          
          // Auto-hide the pin pad after 10 seconds on lockout
          setTimeout(() => {
            const pad = document.getElementById('digit-pass-area');
            pad.classList.add('hide-away');
            setTimeout(() => {
              pad.style.display = 'none';
            }, 600);
          }, 10000);
        }
      }
    });

    // Allow backspace navigation
    input.addEventListener('keydown', (e) => {
      if (e.key === 'Backspace' && input.value === '' && index > 0) {
        pInputs[index - 1].focus();
      }
    });
  });

  function unlockVault() {
    // Only play celebration sound if no celebration is currently playing
    if (!currentCelebration || currentCelebration.paused) {
      playCelebrationSound(celebrationSound2);
    }
    
    // Hide the pin pad with cool animation first
    const pad = document.getElementById('digit-pass-area');
    pad.classList.add('hide-away');
    
    setTimeout(() => {
      pad.style.display = 'none';
      
      // Then reveal the vault
      const vault = document.getElementById('secret-vault-section');
      vault.style.display = 'block';
      isAutoScrolling = true;
      
      setTimeout(() => {
        vault.classList.add('show');
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        setTimeout(() => isAutoScrolling = false, 1500);
      }, 100);
      
      // Auto-lock vault after 15 minutes
      setTimeout(() => {
        location.reload();
      }, 15 * 60 * 1000); // 15 minutes in milliseconds
    }, 600);
  }

  // Vault auto-lock: both 15-minute timer AND manual scroll-away
  // Only locks when user manually scrolls vault COMPLETELY out of view
  window.addEventListener('scroll', () => {
    if (isAutoScrolling) return;
    const vault = document.getElementById('secret-vault-section');
    if (vault.style.display === 'block') {
      const vaultRect = vault.getBoundingClientRect();
      // Lock only when the ENTIRE vault (including bottom) is above the viewport
      // This means vault is completely scrolled out of view
      const vaultCompletelyAboveView = vaultRect.bottom < 0;
      
      if (vaultCompletelyAboveView) {
        location.reload(); 
      }
    }
  });
</script>

</body>
</html>
